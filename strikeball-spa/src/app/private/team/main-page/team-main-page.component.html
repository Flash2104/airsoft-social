<div *ngIf="(loading$ | async) === false; else loadingTemplate">
  <div *ngIf="team$ | async as team">
    <div class="row mb-3">
      <div class="col-4">
        <mat-card class="card-avatar">
          <img mat-card-image [src]="team.avatar" alt="Аватар" />
        </mat-card>
      </div>
      <div class="col-8">
        <mat-card class="main-info-card">
          <span [ngSwitch]="isEditing$ | async">
            <p *ngSwitchCase="true">
              <air-team-main-info-edit
                [loading]="loading$ | async"
                [team]="mapMainInfoTeamData(team)"
              ></air-team-main-info-edit>
            </p>
            <p *ngSwitchCase="false">
              <air-team-main-info
                [loading]="loading$ | async"
                [team]="mapMainInfoTeamData(team)"
              ></air-team-main-info>
            </p>
            <p *ngSwitchDefault>
              <air-team-main-info
                [loading]="loading$ | async"
                [team]="mapMainInfoTeamData(team)"
              ></air-team-main-info>
            </p>
          </span>
        </mat-card>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Члены команды</mat-card-title>
          </mat-card-header>
          <div class="members-container">
            <air-team-members
              [teamMembers]="team.members"
              [loading]="loading$ | async"
            ></air-team-members>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</div>

<ng-template #loadingTemplate>
  <loader> </loader>
</ng-template>
